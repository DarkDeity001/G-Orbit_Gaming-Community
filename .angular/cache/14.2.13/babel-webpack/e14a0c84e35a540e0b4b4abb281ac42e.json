{"ast":null,"code":"import _asyncToGenerator from \"D:/Gamer`s Orbit/clips/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport { RegisterValidators } from '../validators/register-validators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/auth.service\";\nimport * as i2 from \"../validators/email-taken\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../../shared/input/input.component\";\nimport * as i5 from \"../../shared/alert/alert.component\";\nimport * as i6 from \"@angular/forms\";\nfunction RegisterComponent_app_alert_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"app-alert\", 11);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"color\", ctx_r0.alertColor);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.alertMsg, \"\\n\");\n  }\n}\nexport class RegisterComponent {\n  constructor(auth, emailTaken) {\n    this.auth = auth;\n    this.emailTaken = emailTaken;\n    this.inSubmission = false;\n    this.name = new FormControl('', [Validators.required, Validators.minLength(3)]);\n    this.email = new FormControl('', [Validators.required, Validators.email], [this.emailTaken.validate]);\n    this.age = new FormControl(null, [Validators.required, Validators.min(18), Validators.max(120)]);\n    this.password = new FormControl('', [Validators.required, Validators.pattern(/^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z]).{8,}$/gm)]);\n    this.confirm_password = new FormControl('', [Validators.required]);\n    this.phoneNumber = new FormControl('', [Validators.required, Validators.minLength(13), Validators.maxLength(13)]);\n    this.showAlert = false;\n    this.alertMsg = 'Please wait! Your account is being created.';\n    this.alertColor = 'blue';\n    this.registerForm = new FormGroup({\n      name: this.name,\n      email: this.email,\n      age: this.age,\n      password: this.password,\n      confirm_password: this.confirm_password,\n      phoneNumber: this.phoneNumber\n    }, [RegisterValidators.match('password', 'confirm_password')]);\n  }\n  register() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      _this.showAlert = true;\n      _this.alertMsg = 'Please wait! Your account is being created.';\n      _this.alertColor = 'blue';\n      _this.inSubmission = true;\n      try {\n        yield _this.auth.createUser(_this.registerForm.value);\n      } catch (e) {\n        console.error(e);\n        _this.alertMsg = 'An unexpected error occurred. Please try again later';\n        _this.alertColor = 'red';\n        _this.inSubmission = false;\n        return;\n      }\n      _this.alertMsg = 'Success! Your account has been created.';\n      _this.alertColor = 'green';\n    })();\n  }\n}\nRegisterComponent.ɵfac = function RegisterComponent_Factory(t) {\n  return new (t || RegisterComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.EmailTaken));\n};\nRegisterComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: RegisterComponent,\n  selectors: [[\"app-register\"]],\n  decls: 28,\n  vars: 9,\n  consts: [[3, \"color\", 4, \"ngIf\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"mb-3\"], [1, \"inline-block\", \"mb-2\"], [\"placeholder\", \"Enter Name\", 3, \"control\"], [\"type\", \"email\", \"placeholder\", \"Enter Email\", 3, \"control\"], [\"type\", \"number\", \"placeholder\", \"Enter Age\", 3, \"control\"], [\"type\", \"password\", \"placeholder\", \"Enter Password\", 3, \"control\"], [\"type\", \"password\", \"placeholder\", \"Confirm Password\", 3, \"control\"], [\"format\", \"(000)000-0000\", \"placeholder\", \"Enter Phone Number\", 3, \"control\"], [\"type\", \"submit\", 1, \"block\", \"w-full\", \"bg-indigo-400\", \"text-white\", \"py-1.5\", \"px-3\", \"rounded\", \"transition\", \"hover:bg-indigo-500\", \"disabled:opacity-50\", \"disabled:bg-indigo-400\", 3, \"disabled\"], [3, \"color\"]],\n  template: function RegisterComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, RegisterComponent_app_alert_0_Template, 2, 2, \"app-alert\", 0);\n      i0.ɵɵelementStart(1, \"form\", 1);\n      i0.ɵɵlistener(\"ngSubmit\", function RegisterComponent_Template_form_ngSubmit_1_listener() {\n        return ctx.register();\n      });\n      i0.ɵɵelementStart(2, \"div\", 2)(3, \"label\", 3);\n      i0.ɵɵtext(4, \"Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(5, \"app-input\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"div\", 2)(7, \"label\", 3);\n      i0.ɵɵtext(8, \"Email\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(9, \"app-input\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"div\", 2)(11, \"label\", 3);\n      i0.ɵɵtext(12, \"Age\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(13, \"app-input\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"div\", 2)(15, \"label\", 3);\n      i0.ɵɵtext(16, \"Password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(17, \"app-input\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"div\", 2)(19, \"label\", 3);\n      i0.ɵɵtext(20, \"Confirm Password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(21, \"app-input\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"div\", 2)(23, \"label\", 3);\n      i0.ɵɵtext(24, \"Phone Number\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(25, \"app-input\", 9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(26, \"button\", 10);\n      i0.ɵɵtext(27, \" Submit \");\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.showAlert);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"formGroup\", ctx.registerForm);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"control\", ctx.name);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"control\", ctx.email);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"control\", ctx.age);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"control\", ctx.password);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"control\", ctx.confirm_password);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"control\", ctx.phoneNumber);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"disabled\", ctx.registerForm.invalid || ctx.inSubmission);\n    }\n  },\n  dependencies: [i3.NgIf, i4.InputComponent, i5.AlertComponent, i6.ɵNgNoValidate, i6.NgControlStatusGroup, i6.FormGroupDirective],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJyZWdpc3Rlci5jb21wb25lbnQuY3NzIn0= */\"]\n});","map":{"version":3,"names":["FormGroup","FormControl","Validators","RegisterValidators","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","ctx_r0","alertColor","ɵɵadvance","ɵɵtextInterpolate1","alertMsg","RegisterComponent","constructor","auth","emailTaken","inSubmission","name","required","minLength","email","validate","age","min","max","password","pattern","confirm_password","phoneNumber","maxLength","showAlert","registerForm","match","register","_this","_asyncToGenerator","createUser","value","e","console","error","ɵɵdirectiveInject","i1","AuthService","i2","EmailTaken","selectors","decls","vars","consts","template","RegisterComponent_Template","rf","ctx","ɵɵtemplate","RegisterComponent_app_alert_0_Template","ɵɵlistener","RegisterComponent_Template_form_ngSubmit_1_listener","ɵɵelement","invalid"],"sources":["D:\\Gamer`s Orbit\\clips\\src\\app\\user\\register\\register.component.ts","D:\\Gamer`s Orbit\\clips\\src\\app\\user\\register\\register.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport { AuthService } from 'src/app/services/auth.service';\nimport { RegisterValidators } from '../validators/register-validators';\nimport { EmailTaken } from '../validators/email-taken';\nimport IUser from 'src/app/models/user.model';\n\n@Component({\n  selector: 'app-register',\n  templateUrl: './register.component.html',\n  styleUrls: ['./register.component.css']\n})\nexport class RegisterComponent {\n  constructor(\n    private auth: AuthService,\n    private emailTaken: EmailTaken\n  ) {}\n\n  inSubmission = false\n\n  name = new FormControl('', [\n    Validators.required,\n    Validators.minLength(3)\n  ])\n  email = new FormControl('', [\n    Validators.required,\n    Validators.email\n  ], [this.emailTaken.validate])\n  age = new FormControl<number | null>(null, [\n    Validators.required,\n    Validators.min(18),\n    Validators.max(120)\n  ])\n  password = new  FormControl('', [\n    Validators.required,\n    Validators.pattern(/^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z]).{8,}$/gm)\n  ])\n  confirm_password = new FormControl('', [\n    Validators.required\n  ])\n  phoneNumber = new FormControl('', [\n    Validators.required,\n    Validators.minLength(13),\n    Validators.maxLength(13)\n  ])\n  showAlert = false\n  alertMsg = 'Please wait! Your account is being created.'\n  alertColor = 'blue'\n\n  registerForm = new FormGroup({\n    name: this.name,\n    email: this.email,\n    age: this.age,\n    password: this.password,\n    confirm_password: this.confirm_password,\n    phoneNumber: this.phoneNumber\n  }, [RegisterValidators.match('password', 'confirm_password')])\n\n  async register() {\n    this.showAlert = true\n    this.alertMsg = 'Please wait! Your account is being created.'\n    this.alertColor = 'blue'\n    this.inSubmission = true\n\n    try {\n      await this.auth.createUser(this.registerForm.value as IUser)\n    } catch(e) {\n      console.error(e)\n\n      this.alertMsg = 'An unexpected error occurred. Please try again later'\n      this.alertColor = 'red'\n      this.inSubmission = false\n      return\n    }\n\n    this.alertMsg = 'Success! Your account has been created.'\n    this.alertColor = 'green'\n  }\n}\n","<app-alert *ngIf=\"showAlert\" [color]=\"alertColor\">\n  {{ alertMsg }}\n</app-alert>\n\n<!-- Registration Form -->\n<form [formGroup]=\"registerForm\" (ngSubmit)=\"register()\">\n  <!-- Name -->\n  <div class=\"mb-3\">\n    <label class=\"inline-block mb-2\">Name</label>\n    <app-input [control]=\"name\" placeholder=\"Enter Name\"></app-input>\n  </div>\n  <!-- Email -->\n  <div class=\"mb-3\">\n    <label class=\"inline-block mb-2\">Email</label>\n    <app-input [control]=\"email\" type=\"email\"\n      placeholder=\"Enter Email\"></app-input>\n  </div>\n  <!-- Age -->\n  <div class=\"mb-3\">\n    <label class=\"inline-block mb-2\">Age</label>\n    <app-input [control]=\"age\" type=\"number\"\n      placeholder=\"Enter Age\"></app-input>\n  </div>\n  <!-- Password -->\n  <div class=\"mb-3\">\n    <label class=\"inline-block mb-2\">Password</label>\n    <app-input [control]=\"password\" type=\"password\"\n      placeholder=\"Enter Password\"></app-input>\n  </div>\n  <!-- Confirm Password -->\n  <div class=\"mb-3\">\n    <label class=\"inline-block mb-2\">Confirm Password</label>\n    <app-input [control]=\"confirm_password\" type='password'\n      placeholder=\"Confirm Password\"></app-input>\n  </div>\n  <!-- Phone Number -->\n  <div class=\"mb-3\">\n    <label class=\"inline-block mb-2\">Phone Number</label>\n    <app-input [control]=\"phoneNumber\" format=\"(000)000-0000\"\n      placeholder=\"Enter Phone Number\"></app-input>\n  </div>\n  <button type=\"submit\"\n    class=\"block w-full bg-indigo-400 text-white py-1.5 px-3 rounded transition\n      hover:bg-indigo-500 disabled:opacity-50 disabled:bg-indigo-400\"\n    [disabled]=\"registerForm.invalid || inSubmission\">\n    Submit\n  </button>\n</form>"],"mappings":"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"},"metadata":{},"sourceType":"module"}